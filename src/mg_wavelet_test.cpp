#include "mg_test.h"

#define Array { 56, 40, 8, 24, 48, 48, 40, 16, 30, 32,\
                40, 8, 24, 48, 48, 40, 16, 30, 32, 56,\
                8, 24, 48, 48, 40, 16, 30, 32, 56, 40,\
                24, 48, 48, 40, 16, 30, 32, 56, 40, 8,\
                48, 48, 40, 16, 30, 32, 56, 40, 8, 24,\
                48, 40, 16, 30, 32, 56, 40, 8, 24, 48,\
                40, 16, 30, 32, 56, 40, 8, 24, 48, 48,\
                16, 30, 32, 56, 40, 8, 24, 48, 48, 40,\
                30, 32, 56, 40, 8, 24, 48, 48, 40, 16,\
                32, 56, 40, 8, 24, 48, 48, 40, 16, 30 }

#define Array2 { 3, 2, 1, 2, 3, 2, 1, 2, 3, 2,\
                 40, 8, 24, 48, 48, 40, 16, 30, 32, 56,\
                 8, 24, 48, 48, 40, 16, 30, 32, 56, 40,\
                 24, 48, 48, 40, 16, 30, 32, 56, 40, 8,\
                 48, 48, 40, 16, 30, 32, 56, 40, 8, 24,\
                 48, 40, 16, 30, 32, 56, 40, 8, 24, 48,\
                 40, 16, 30, 32, 56, 40, 8, 24, 48, 48,\
                 16, 30, 32, 56, 40, 8, 24, 48, 48, 40,\
                 30, 32, 56, 40, 8, 24, 48, 48, 40, 16,\
                 32, 56, 40, 8, 24, 48, 48, 40, 16, 30 }

void
TestWavelet() {
  f64 A[] = Array;
  grid_volume Vol(A, v3i(10, 1, 1));
  ForwardCdf53(&Vol, 2);
  InverseCdf53(&Vol, 2);
  for (int X = 0; X < Dims(Vol).X; ++X) {
    printf("%.2f ", A[X]);
  }
}

mg_RegisterTest(Wavelet_TestWavelet, TestWavelet)
